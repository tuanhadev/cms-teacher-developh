{"version":3,"sources":["config.js","views/services/requestManager.js","views/services/userService.js","views/pages/login/Login.js"],"names":["GET","POST","PUT","DELETE","instance","ManagerRequest","method","url","body","access_token","localStorage","getItem","axios","defaults","headers","common","data","params","response","ManagerService","requestManager","getInstance","startRequest","config","Login","useState","username","password","inputValues","setInputValues","loading","setLoading","errors","setErrors","handleOnChange","event","target","name","value","login","a","userData","email","userService","setItem","window","location","reload","message","keyPressed","key","preventDefault","to","className","md","type","onChange","onKeyPress","e","placeholder","autoComplete","xs","style","backgroundColor","disabled","onClick","marginTop","width"],"mappings":"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","file":"static/js/8.20c05b79.chunk.js","sourcesContent":["export default {\n    domain: \"https://damp-river-04072.herokuapp.com\",\n    METHOD: {\n        GET: 'get',\n        POST: 'post',\n        PUT: 'put',\n        DELETE: 'delete'\n    }\n}","import axios from \"axios\";\n\nlet instance = null;\n\nexport default class ManagerRequest {\n    static getInstance() {\n        if (instance == null) {\n            instance = new ManagerRequest();\n        }\n        return instance;\n    }\n\n    async startRequest(method, url, body) {\n        try {\n            const access_token = localStorage.getItem(\"access_token\") || '';\n            axios.defaults.headers.common['Content-Type'] = \"application/json\";\n            const response = await axios({\n                method: method,\n                url: url,\n                data: body,\n                params: {\n                    access_token\n                }\n            })\n            return response.data;\n        } catch (e) {\n            throw e;\n        }\n    }\n}","import config from \"../../config\";\nimport requestManager from \"./requestManager\";\n\nexport default class ManagerService {\n    static async login(data) {\n        const response = await requestManager.getInstance().startRequest(config.METHOD.POST,\n            `${config.domain}/api/teachers/login`,\n            data\n        )\n        return response;\n    }\n}","import React, { useState } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardGroup,\n  CCol,\n  CContainer,\n  CForm,\n  CInput,\n  CInputGroup,\n  CInputGroupPrepend,\n  CInputGroupText,\n  CRow\n} from '@coreui/react'\nimport CIcon from '@coreui/icons-react';\nimport userService from \"../../services/userService\";\n\nconst Login = () => {\n  const access_token = localStorage.getItem(\"access_token\");\n  const [inputValues, setInputValues] = useState({\n    username: '', password: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState(null);\n\n  const handleOnChange = event => {\n    const { name, value } = event.target;\n    setInputValues({ ...inputValues, [name]: value });\n  };\n\n  const login = async () => {\n    const { username, password } = inputValues;\n    if (!username || !password) {\n      setErrors(\"Vui lòng điền đầy đủ thông tin\");\n      return;\n    }\n    setLoading(true);\n    try {\n      const userData = { email: username, password };\n      const response = await userService.login(userData);\n      localStorage.setItem(\"access_token\", response.access_token);\n      window.location.reload();\n    } catch (error) {\n      setLoading(false);\n      setErrors(error.response.data.message);\n    }\n  }\n\n  const keyPressed = (event) => {\n    if (event.key === \"Enter\") {\n      event.preventDefault();\n      login();\n    }\n  }\n\n  if (access_token) {\n    return <Redirect to=\"/\" />\n  }\n\n  return (\n    <div className=\"c-app c-default-layout flex-row align-items-center\">\n      <CContainer>\n        <CRow className=\"justify-content-center\">\n          <CCol md=\"8\">\n            <CCardGroup>\n              <CCard className=\"p-4\">\n                <CCardBody>\n                  <CForm>\n                    <h1>Login</h1>\n                    <p className=\"text-muted\">Sign In to your account</p>\n                    <CInputGroup className=\"mb-3\">\n                      <CInputGroupPrepend>\n                        <CInputGroupText>\n                          <CIcon name=\"cil-user\" />\n                        </CInputGroupText>\n                      </CInputGroupPrepend>\n                      <CInput type=\"text\" name=\"username\" onChange={handleOnChange} onKeyPress={e => keyPressed(e)} placeholder=\"Username\" autoComplete=\"username\" />\n                    </CInputGroup>\n                    <CInputGroup className=\"mb-4\">\n                      <CInputGroupPrepend>\n                        <CInputGroupText>\n                          <CIcon name=\"cil-lock-locked\" />\n                        </CInputGroupText>\n                      </CInputGroupPrepend>\n                      <CInput type=\"password\" name=\"password\" onChange={handleOnChange} onKeyPress={e => keyPressed(e)} placeholder=\"Password\" autoComplete=\"current-password\" />\n                    </CInputGroup>\n                    <CRow>\n                      <CCol xs=\"6\">\n                        {\n                          loading ? <CButton style={{ backgroundColor: \"#0a0858\" }} disabled={loading} className=\"px-4 text-white\">...Loading</CButton> : <CButton style={{ backgroundColor: \"#0a0858\" }} onClick={login} className=\"px-4 text-white\">Login</CButton>\n                        }\n                      </CCol>\n                      <CCol xs=\"12\" className=\"text-left\">\n                        <p style={{ marginTop: 10 }} className=\"text-danger\">{errors ? `* ${errors}.` : ''}</p>\n                      </CCol>\n                    </CRow>\n                  </CForm>\n                </CCardBody>\n              </CCard>\n              <CCard className=\"text-white py-5 d-md-down-none\" style={{ width: '44%', backgroundColor: \"#0a0858\" }}>\n                <CCardBody className=\"text-center d-flex align-items-center\">\n                  <div>\n                    <h2>Developh</h2>\n                    <p>Developh Vietnam tạo ra những lớp học, cộng đồng lập trình, nơi mang đến những góc nhìn mới mẻ về thế giới qua lăng kính công nghệ và nuôi dưỡng những ý tưởng trở thành sự thật.</p>\n                  </div>\n                </CCardBody>\n              </CCard>\n            </CCardGroup>\n          </CCol>\n        </CRow>\n      </CContainer>\n    </div>\n  )\n}\n\nexport default Login\n"],"sourceRoot":""}